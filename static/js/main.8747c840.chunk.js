(this["webpackJsonpcelestial-dashboard-frontend"]=this["webpackJsonpcelestial-dashboard-frontend"]||[]).push([[0],{233:function(e,t,n){},234:function(e,t,n){},236:function(e,t,n){},250:function(e,t){},252:function(e,t){},254:function(e,t){},258:function(e,t){},285:function(e,t){},287:function(e,t){},296:function(e,t){},298:function(e,t){},308:function(e,t){},310:function(e,t){},428:function(e,t){},430:function(e,t){},437:function(e,t){},438:function(e,t){},531:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(219),c=n.n(s),u=(n(233),n(17)),i=(n(234),n(220)),o=n.n(i),l=Object(a.createContext)(null);function d(e){Object(a.useEffect)(e,[])}var m=n(21),j=n.n(m),b=n(8),p=n(75),h=(n(236),n(221)),f=n.n(h),x=n(59),O=n.n(x),v=n(74),y=n(224),C=n(31),w=n(223),k=n(63),N=n(64),A=n(62),g=n(91),T=n(226),S=n(225),E=n(0),D=4902,B="0x42";function M(e){return _.apply(this,arguments)}function _(){return(_=Object(p.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.request({method:"wallet_switchEthereumChain",params:[{chainId:B}]});case 3:e.next=10;break;case 5:if(e.prev=5,e.t0=e.catch(0),n=e.t0,(a=n.code)===D){e.next=10;break}return e.abrupt("return",a);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function I(){return(I=Object(p.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:if(!(n=e.sent)||n===D){e.next=5;break}return e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,t.request({method:"wallet_addEthereumChain",params:[{chainId:B,chainName:"OKExChain Mainnet",nativeCurrency:{name:"OKT",symbol:"OKT",decimals:18},rpcUrls:["https://exchainrpc.okex.org"],blockExplorerUrls:["https://www.oklink.com/okexchain"]}]});case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(5),e.abrupt("return",!1);case 13:return e.next=15,M(t);case 15:return e.abrupt("return",!e.sent);case 16:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function P(e){var t=Number(e);return String(t)===e&&Number.isInteger(t)&&t>0?t:null}function F(e,t){""!==e&&null===P(e)||t(e)}var z=function e(t,n){Object(b.a)(this,e),this.address=void 0,this.amount=void 0,this.address=t,this.amount=n};var K=[{id:0,name:"Celt",address:"0x5Ab622494AB7C5e81911558c9552DBd517F403fb",decimal:18},{id:1,name:"Crystal",address:"0xBD87c06D865a3717A16041aCD8d33922e60E85CE",decimal:18},{id:2,name:"CeltChest",address:"0x777c5a7152F999B4bBC26295C65a0ACb066f75e9",decimal:0}],q=[{inputs:[{internalType:"address",name:"erc20Token",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"airDropBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"erc20Token",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"airDropIndividual",outputs:[],stateMutability:"nonpayable",type:"function"}],J=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function L(e,t,n,a,r){if(!n)return Promise.resolve();var s=K[t].address;return new e.eth.Contract(J,s).methods.approve(a,r).send({from:n})}var U="0x074101c52ea69D66577057ECA07147bcF7B3f057";function V(){}function Y(e,t,n,a,r){if(!n||!a)return Promise.resolve();var s,c,u=K[t].address,i=new e.eth.Contract(q,U),o=Array.from(a.filter((function(e){return null===e.amount})),(function(e){return e.address})),l=Array.from(a.filter((function(e){return null!==e.amount})),(function(e){return e.address})),d=Array.from(a.filter((function(e){return null!==e.amount})),(function(e){return e.amount}));return 0!==o.length&&(s=i.methods.airDropBatch(u,o,r).send({from:n})),0!==l.length&&(c=i.methods.airDropIndividual(u,l,d).send({from:n})),Promise.all([s,c]).then(V)}function G(){var e=Object(a.useContext)(l);O()(e);var t=new f.a(e),n=Object(a.useState)(""),r=Object(u.a)(n,2),s=r[0],c=r[1],i=Object(a.useState)(!1),o=Object(u.a)(i,2),m=o[0],b=o[1],h=Object(a.useState)(0),x=Object(u.a)(h,2),D=x[0],B=x[1],M=Object(a.useState)(0),_=Object(u.a)(M,2),q=_[0],G=_[1],H=Object(a.useState)(""),W=Object(u.a)(H,2),Q=W[0],R=W[1],X=Object(a.useState)(""),Z=Object(u.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.useState)(null),ne=Object(u.a)(te,2),ae=ne[0],re=ne[1],se=Object(a.useState)(!1),ce=Object(u.a)(se,2),ue=ce[0],ie=ce[1],oe=Object(a.useState)(!1),le=Object(u.a)(oe,2),de=le[0],me=le[1],je=Object(a.useState)(!1),be=Object(u.a)(je,2),pe=be[0],he=be[1];function fe(){O()(e),c(e.selectedAddress)}function xe(){he(!0),function(e,t,n,a){if(!n)return Promise.resolve(0);var r=K[t].address;return new e.eth.Contract(J,r).methods.allowance(n,a).call()}(t,D,s,U).then((function(e){G(e),he(!1)}),V)}if(Object(a.useEffect)(fe,[e,e.selectedAddress]),d((function(){return e.on("accountsChanged",fe),function(){e.removeListener("accountsChanged",fe)}})),Object(a.useEffect)(xe,[D,s]),d((function(){(function(e){return I.apply(this,arguments)})(e).then(b,V)})),!m)return Object(E.jsx)("div",{children:"You are not on chain!"});var Oe=null!==ae&&ae.some((function(e){return null===e.amount})),ve=""===Q&&Oe,ye=null!==ae&&!ve;return Object(E.jsxs)(w.a,{className:"mt-4",children:[Object(E.jsx)(A.a,{className:"justify-content-end",children:s}),Object(E.jsx)(A.a,{className:"justify-content-center",children:Object(E.jsx)("h1",{children:"Airdrop"})}),Object(E.jsx)(A.a,{className:"justify-content-center mt-3",children:Object(E.jsxs)(N.a,{hasValidation:!0,children:[Object(E.jsx)(k.a.Control,{as:"textarea",className:"Home__Addresses",onChange:function(e){return re(function(e){var t=[],n=null;return e.replaceAll(","," ").replaceAll("\n"," ").replaceAll('"',"").replaceAll("'","").replaceAll("`","").replaceAll(/  */g," ").trim().toLowerCase().split(" ").every((function(e){if(e.startsWith("0x"))n=new z(e,null),t.push(n);else{if(!P(e))return!1;if(null===n||null!==n.amount)return!1;n.amount=Number(e)}return!0}))?t:null}(e.currentTarget.value))},isInvalid:null===ae}),Object(E.jsx)(k.a.Control.Feedback,{type:"invalid",children:"Please provide valid addresses with/without amount."})]})}),Object(E.jsxs)(A.a,{className:"justify-content-center mt-3",children:[Object(E.jsx)(C.a,{xs:"auto",children:Object(E.jsx)(y.a,{children:K.map((function(e){var t=e.id,n=e.name;return Object(E.jsx)(S.a,{id:"token-".concat(t),name:"tokens-radio",type:"radio",variant:"outline-primary",value:t,checked:D===t,onChange:function(e){return B(Number(e.currentTarget.value))},children:n},t)}))})}),Object(E.jsxs)(C.a,{xs:"auto",className:"d-flex align-items-center",children:[Object(E.jsx)(g.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-1 ".concat(pe?"":"d-none")}),Object(E.jsxs)("p",{className:"m-0",children:["Allownance amount: \xa0",q,"\xa0(decimal:\xa0",K[D].decimal,")"]})]}),Object(E.jsx)("div",{className:"w-100"}),Object(E.jsx)(C.a,{xs:"12",md:"6",className:"mt-3",children:Object(E.jsxs)(N.a,{hasValidation:!0,children:[Object(E.jsx)(N.a.Text,{children:"Default amount"}),Object(E.jsx)(k.a.Control,{value:Q,placeholder:"amount",onChange:function(e){return F(e.currentTarget.value,R)},isInvalid:ve}),Object(E.jsx)(k.a.Control.Feedback,{type:"invalid",children:"Please provide amount for default."})]})}),Object(E.jsx)(C.a,{xs:"12",md:"6",className:"mt-3",children:Object(E.jsxs)(N.a,{children:[Object(E.jsx)(N.a.Text,{children:"Approve amount"}),Object(E.jsx)(k.a.Control,{value:$,placeholder:"amount",onChange:function(e){return F(e.currentTarget.value,ee)}})]})}),Object(E.jsx)(C.a,{xs:"auto",className:"mt-3",children:Object(E.jsxs)(v.a,{onClick:Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),e.prev=1,e.next=4,L(t,D,s,U,Number($));case 4:return e.prev=4,ie(!1),e.finish(4);case 7:xe();case 8:case"end":return e.stop()}}),e,null,[[1,,4,7]])}))),disabled:""===$||ue,children:[Object(E.jsx)(g.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-1 ".concat(ue?"":"d-none")}),"Approve"]})}),Object(E.jsx)(C.a,{xs:"auto",className:"mt-3",children:Object(E.jsxs)(v.a,{variant:"success",onClick:Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return me(!0),e.prev=1,e.next=4,Y(t,D,s,ae,Number(Q));case 4:return e.prev=4,me(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[1,,4,7]])}))),disabled:!ye||de,children:[Object(E.jsx)(g.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-1 ".concat(de?"":"d-none")}),"Give"]})})]}),Object(E.jsx)(A.a,{className:"mt-3",children:Object(E.jsx)(C.a,{children:Object(E.jsxs)(T.a,{children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Address"}),Object(E.jsx)("th",{children:"Amount"})]})}),Object(E.jsx)("tbody",{children:ae?ae.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.address}),Object(E.jsx)("td",{className:e.amount?"":"text-secondary",children:e.amount?e.amount:"default"})]})})):[]})]})})})]})}var H=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1];return o()().then((function(e){r(e)}),(function(){})),n?Object(E.jsx)(l.Provider,{value:n,children:Object(E.jsx)(G,{})}):Object(E.jsx)("div",{children:"You must installed MetaMask to use Celestial dashboard!"})};c.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(H,{})}),document.getElementById("root"))}},[[531,1,2]]]);
//# sourceMappingURL=main.8747c840.chunk.js.map