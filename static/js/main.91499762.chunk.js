(this["webpackJsonpcelestial-dashboard-frontend"]=this["webpackJsonpcelestial-dashboard-frontend"]||[]).push([[0],{233:function(e,t,n){},234:function(e,t,n){},236:function(e,t,n){},250:function(e,t){},252:function(e,t){},254:function(e,t){},258:function(e,t){},285:function(e,t){},287:function(e,t){},296:function(e,t){},298:function(e,t){},308:function(e,t){},310:function(e,t){},428:function(e,t){},430:function(e,t){},437:function(e,t){},438:function(e,t){},531:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(220),c=n.n(s),u=(n(233),n(17)),i=(n(234),n(221)),o=n.n(i),l=n(48),d=n(24),j=n(90),m=n(33),b=Object(a.createContext)(null);function h(e){Object(a.useEffect)(e,[])}var p=n(21),f=n.n(p),x=n(8),O=n(75),v=(n(236),n(222)),y=n.n(v),C=n(61),w=n.n(C),k=n(224),N=n(64),A=n(65),g=n(92),T=n(226),S=n(225),E=n(0),M=4902,D="0x42";function _(e){return B.apply(this,arguments)}function B(){return(B=Object(O.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.request({method:"wallet_switchEthereumChain",params:[{chainId:D}]});case 3:e.next=10;break;case 5:if(e.prev=5,e.t0=e.catch(0),n=e.t0,(a=n.code)===M){e.next=10;break}return e.abrupt("return",a);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function I(){return(I=Object(O.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:if(!(n=e.sent)||n===M){e.next=5;break}return e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,t.request({method:"wallet_addEthereumChain",params:[{chainId:D,chainName:"OKExChain Mainnet",nativeCurrency:{name:"OKT",symbol:"OKT",decimals:18},rpcUrls:["https://exchainrpc.okex.org"],blockExplorerUrls:["https://www.oklink.com/okexchain"]}]});case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(5),e.abrupt("return",!1);case 13:return e.next=15,_(t);case 15:return e.abrupt("return",!e.sent);case 16:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function P(e){var t=Number(e);return String(t)===e&&Number.isInteger(t)&&t>0?t:null}function F(e,t){""!==e&&null===P(e)||t(e)}var q=function e(t,n){Object(x.a)(this,e),this.address=void 0,this.amount=void 0,this.address=t,this.amount=n};var z=[{id:0,name:"Celt",address:"0x5Ab622494AB7C5e81911558c9552DBd517F403fb",decimal:18},{id:1,name:"Crystal",address:"0xBD87c06D865a3717A16041aCD8d33922e60E85CE",decimal:18},{id:2,name:"CeltChest",address:"0x777c5a7152F999B4bBC26295C65a0ACb066f75e9",decimal:0}],K=[{inputs:[{internalType:"address",name:"erc20Token",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"airDropBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"erc20Token",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"airDropIndividual",outputs:[],stateMutability:"nonpayable",type:"function"}],Y=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function J(e,t,n,a,r){if(!n)return Promise.resolve();var s=z[t].address;return new e.eth.Contract(Y,s).methods.approve(a,r).send({from:n})}var L="0x074101c52ea69D66577057ECA07147bcF7B3f057";function U(){}function V(e,t,n,a,r){if(!n||!a)return Promise.resolve();var s,c,u=z[t].address,i=new e.eth.Contract(K,L),o=Array.from(a.filter((function(e){return null===e.amount})),(function(e){return e.address})),l=Array.from(a.filter((function(e){return null!==e.amount})),(function(e){return e.address})),d=Array.from(a.filter((function(e){return null!==e.amount})),(function(e){return e.amount}));return 0!==o.length&&(s=i.methods.airDropBatch(u,o,r).send({from:n})),0!==l.length&&(c=i.methods.airDropIndividual(u,l,d).send({from:n})),Promise.all([s,c]).then(U)}function G(){var e=Object(a.useContext)(b);w()(e);var t=new y.a(e),n=Object(a.useState)(""),r=Object(u.a)(n,2),s=r[0],c=r[1],i=Object(a.useState)(!1),o=Object(u.a)(i,2),p=o[0],x=o[1],v=Object(a.useState)(0),C=Object(u.a)(v,2),M=C[0],D=C[1],_=Object(a.useState)(0),B=Object(u.a)(_,2),K=B[0],G=B[1],H=Object(a.useState)(""),W=Object(u.a)(H,2),Q=W[0],R=W[1],X=Object(a.useState)(""),Z=Object(u.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.useState)(null),ne=Object(u.a)(te,2),ae=ne[0],re=ne[1],se=Object(a.useState)(!1),ce=Object(u.a)(se,2),ue=ce[0],ie=ce[1],oe=Object(a.useState)(!1),le=Object(u.a)(oe,2),de=le[0],je=le[1],me=Object(a.useState)(!1),be=Object(u.a)(me,2),he=be[0],pe=be[1];function fe(){w()(e),c(e.selectedAddress)}function xe(){pe(!0),function(e,t,n,a){if(!n)return Promise.resolve(0);var r=z[t].address;return new e.eth.Contract(Y,r).methods.allowance(n,a).call()}(t,M,s,L).then((function(e){G(e),pe(!1)}),U)}if(Object(a.useEffect)(fe,[e,e.selectedAddress]),h((function(){return e.on("accountsChanged",fe),function(){e.removeListener("accountsChanged",fe)}})),Object(a.useEffect)(xe,[M,s]),h((function(){(function(e){return I.apply(this,arguments)})(e).then(x,U)})),!p)return Object(E.jsx)("div",{children:"You are not on chain!"});var Oe=null!==ae&&ae.some((function(e){return null===e.amount})),ve=""===Q&&Oe,ye=null!==ae&&!ve;return Object(E.jsxs)(j.a,{className:"mt-4",children:[Object(E.jsx)(m.a,{className:"justify-content-end",children:s}),Object(E.jsx)(m.a,{className:"justify-content-center",children:Object(E.jsx)("h1",{children:"Airdrop"})}),Object(E.jsx)(m.a,{className:"justify-content-center mt-3",children:Object(E.jsxs)(A.a,{hasValidation:!0,children:[Object(E.jsx)(N.a.Control,{as:"textarea",className:"Home__Addresses",onChange:function(e){return re(function(e){var t=[],n=null;return e.replaceAll(","," ").replaceAll("\n"," ").replaceAll('"',"").replaceAll("'","").replaceAll("`","").replaceAll(/  */g," ").trim().toLowerCase().split(" ").every((function(e){if(e.startsWith("0x"))n=new q(e,null),t.push(n);else{if(!P(e))return!1;if(null===n||null!==n.amount)return!1;n.amount=Number(e)}return!0}))?t:null}(e.currentTarget.value))},isInvalid:null===ae}),Object(E.jsx)(N.a.Control.Feedback,{type:"invalid",children:"Please provide valid addresses with/without amount."})]})}),Object(E.jsxs)(m.a,{className:"justify-content-center mt-3",children:[Object(E.jsx)(d.a,{xs:"auto",children:Object(E.jsx)(k.a,{children:z.map((function(e){var t=e.id,n=e.name;return Object(E.jsx)(S.a,{id:"token-".concat(t),name:"tokens-radio",type:"radio",variant:"outline-primary",value:t,checked:M===t,onChange:function(e){return D(Number(e.currentTarget.value))},children:n},t)}))})}),Object(E.jsxs)(d.a,{xs:"auto",className:"d-flex align-items-center",children:[Object(E.jsx)(g.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-1 ".concat(he?"":"d-none")}),Object(E.jsxs)("p",{className:"m-0",children:["Allownance amount: \xa0",K,"\xa0(decimal:\xa0",z[M].decimal,")"]})]}),Object(E.jsx)("div",{className:"w-100"}),Object(E.jsx)(d.a,{xs:"12",md:"6",className:"mt-3",children:Object(E.jsxs)(A.a,{children:[Object(E.jsx)(A.a.Text,{children:"Approve amount"}),Object(E.jsx)(N.a.Control,{value:$,placeholder:"amount",onChange:function(e){return F(e.currentTarget.value,ee)}})]})}),Object(E.jsx)(d.a,{xs:"12",md:"6",className:"mt-3",children:Object(E.jsxs)(A.a,{hasValidation:!0,children:[Object(E.jsx)(A.a.Text,{children:"Default amount"}),Object(E.jsx)(N.a.Control,{value:Q,placeholder:"amount",onChange:function(e){return F(e.currentTarget.value,R)},isInvalid:ve}),Object(E.jsx)(N.a.Control.Feedback,{type:"invalid",children:"Please provide amount for default."})]})}),Object(E.jsx)(d.a,{xs:"auto",className:"mt-3",children:Object(E.jsxs)(l.a,{onClick:Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),e.prev=1,e.next=4,J(t,M,s,L,Number($));case 4:return e.prev=4,ie(!1),e.finish(4);case 7:xe();case 8:case"end":return e.stop()}}),e,null,[[1,,4,7]])}))),disabled:""===$||ue,children:[Object(E.jsx)(g.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-1 ".concat(ue?"":"d-none")}),"Approve"]})}),Object(E.jsx)(d.a,{xs:"auto",className:"mt-3",children:Object(E.jsxs)(l.a,{variant:"success",onClick:Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return je(!0),e.prev=1,e.next=4,V(t,M,s,ae,Number(Q));case 4:return e.prev=4,je(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[1,,4,7]])}))),disabled:!ye||de,children:[Object(E.jsx)(g.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-1 ".concat(de?"":"d-none")}),"Give"]})})]}),Object(E.jsx)(m.a,{className:"mt-3",children:Object(E.jsx)(d.a,{children:Object(E.jsxs)(T.a,{children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Address"}),Object(E.jsx)("th",{children:"Amount"})]})}),Object(E.jsx)("tbody",{children:ae?ae.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.address}),Object(E.jsx)("td",{className:e.amount?"":"text-secondary",children:e.amount?e.amount:"default"})]})})):[]})]})})})]})}var H=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(!1),c=Object(u.a)(s,2),i=c[0],h=c[1];return o()().then((function(e){r(e)}),(function(){})),n?i?Object(E.jsx)(b.Provider,{value:n,children:Object(E.jsx)(G,{})}):Object(E.jsxs)(j.a,{children:[Object(E.jsx)(m.a,{className:"justify-content-center",children:Object(E.jsx)(d.a,{xs:"auto",children:"You must connect to MetaMask to use Celestial dashboard!"})}),Object(E.jsx)(m.a,{className:"justify-content-center",children:Object(E.jsx)(d.a,{xs:"auto",children:Object(E.jsx)(l.a,{onClick:function(){n&&n.request({method:"eth_requestAccounts"}).then((function(){h(!0)}),(function(){}))},children:"Connect"})})})]}):Object(E.jsx)("div",{children:"You must installed MetaMask to use Celestial dashboard!"})};c.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(H,{})}),document.getElementById("root"))}},[[531,1,2]]]);
//# sourceMappingURL=main.91499762.chunk.js.map