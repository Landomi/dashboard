(this["webpackJsonpcelestial-dashboard-frontend"]=this["webpackJsonpcelestial-dashboard-frontend"]||[]).push([[0],{265:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){},282:function(e,t){},284:function(e,t){},286:function(e,t){},290:function(e,t){},317:function(e,t){},319:function(e,t){},328:function(e,t){},330:function(e,t){},340:function(e,t){},342:function(e,t){},460:function(e,t){},462:function(e,t){},469:function(e,t){},470:function(e,t){},563:function(e,t,n){},568:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(52),c=n.n(s),i=(n(265),n(24)),l=n.n(i),u=n(13),o=n(60),d=(n(267),n(98)),j=n(253),b=n.n(j),h=n(54),m=n(22),p=n(72),x=n(258),O=n(155),f=n(36),v=Object(a.createContext)(null),y=Object(a.createContext)(null);function g(){}function C(e){try{var t=BigInt(e);if(String(t)===e&&t>0)return t}catch(n){}return null}function N(e,t){""!==e&&null===C(e)||t(e)}var A=n(23),w=n(11),k=(n(268),n(116)),T=n.n(k),S=n(50),B=n.n(S),I=n(117),M=n(43),P=n(31),F=n(87),_=n(119),E=n(118),D=n(1),q=function e(t,n){Object(w.a)(this,e),this.address=void 0,this.amount=void 0,this.address=t,this.amount=n};var z=[{id:0,name:"Celt",address:"0x5Ab622494AB7C5e81911558c9552DBd517F403fb",decimal:18},{id:1,name:"Crystal",address:"0xBD87c06D865a3717A16041aCD8d33922e60E85CE",decimal:18},{id:2,name:"CeltChest",address:"0x777c5a7152F999B4bBC26295C65a0ACb066f75e9",decimal:0}],K=[{inputs:[{internalType:"address",name:"erc20Token",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"airDropBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"erc20Token",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"airDropIndividual",outputs:[],stateMutability:"nonpayable",type:"function"}],V=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function W(e,t,n,a,r){if(!n)return Promise.resolve();var s=z[t].address;return new e.eth.Contract(V,s).methods.approve(a,r).send({from:n})}var Y="0x074101c52ea69D66577057ECA07147bcF7B3f057";function J(e,t,n,a,r,s,c,i){if(!n||!a)return Promise.resolve();var l=z[t].address,u=new e.eth.Contract(K,Y),o=Array.from(a.filter((function(e){return null===e.amount})),(function(e){return e.address})),d=Array.from(a.filter((function(e){return null!==e.amount})),(function(e){return e.address})),j=Array.from(a.filter((function(e){return null!==e.amount})),(function(e){return e.amount})),b=[],h=0;if(0!==o.length)for(var m=function(e){var t=o.slice(e,e+i);b.push(u.methods.airDropBatch(l,t,r*s).send({from:n}).then((function(){h+=t.length,c(h)})))},p=0;p<o.length;p+=i)m(p);if(0!==d.length)for(var x=function(e){var t=d.slice(e,e+i),a=j.slice(e,e+i).map((function(e){return B()(e),e*s}));b.push(u.methods.airDropIndividual(l,t,a).send({from:n}).then((function(){h+=t.length,c(h)})))},O=0;O<d.length;O+=i)x(O);return Promise.all(b).then(g)}function L(){var e=Object(a.useContext)(v);B()(e);var t=new T.a(e),n=Object(a.useContext)(y),r=Object(a.useState)(0),s=Object(u.a)(r,2),c=s[0],i=s[1],d=Object(a.useState)(BigInt(0)),j=Object(u.a)(d,2),b=j[0],x=j[1],O=Object(a.useState)(""),A=Object(u.a)(O,2),w=A[0],k=A[1],S=Object(a.useState)("200"),K=Object(u.a)(S,2),L=K[0],U=K[1],G=Object(a.useState)(null),H=Object(u.a)(G,2),Q=H[0],R=H[1],X=Object(a.useState)(!1),Z=Object(u.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.useState)(!1),ne=Object(u.a)(te,2),ae=ne[0],re=ne[1],se=Object(a.useState)(!1),ce=Object(u.a)(se,2),ie=ce[0],le=ce[1],ue=Object(a.useState)(0),oe=Object(u.a)(ue,2),de=oe[0],je=oe[1],be=Object(a.useState)(""),he=Object(u.a)(be,2),me=he[0],pe=he[1];function xe(){le(!0),function(e,t,n,a){if(!n)return Promise.resolve(0);var r=z[t].address;return new e.eth.Contract(V,r).methods.allowance(n,a).call()}(t,c,n,Y).then((function(e){x(BigInt(e)),le(!1)}),g)}Object(a.useEffect)((function(){xe(),pe("".concat(Math.pow(10,z[c].decimal)))}),[c,n]);var Oe=null!==Q&&Q.some((function(e){return null===e.amount})),fe=""===w&&Oe,ve=null!==Q&&!fe;return Object(D.jsxs)(p.a,{className:"mt-4",children:[Object(D.jsx)(f.a,{className:"justify-content-center",children:Object(D.jsx)("h1",{children:"Airdrop"})}),Object(D.jsx)(f.a,{className:"justify-content-center mt-3",children:Object(D.jsxs)(P.a,{hasValidation:!0,children:[Object(D.jsx)(M.a.Control,{as:"textarea",className:"Home__Addresses",onChange:function(e){return R(function(e){var t=[],n=null;return e.replaceAll(","," ").replaceAll("\n"," ").replaceAll('"',"").replaceAll("'","").replaceAll("`","").replaceAll(/  */g," ").trim().split(" ").every((function(e){if(e.startsWith("0x"))n=new q(e,null),t.push(n);else{if(!C(e))return!1;if(null===n||null!==n.amount)return!1;n.amount=BigInt(e)}return!0}))?t:null}(e.currentTarget.value))},isInvalid:null===Q}),Object(D.jsx)(M.a.Control.Feedback,{type:"invalid",children:"Please provide valid addresses with/without amount."})]})}),Object(D.jsxs)(f.a,{className:"justify-content-center mt-3",children:[Object(D.jsx)(m.a,{xs:"auto",children:Object(D.jsx)(I.a,{children:z.map((function(e){var t=e.id,n=e.name;return Object(D.jsx)(E.a,{id:"token-".concat(t),name:"tokens-radio",type:"radio",variant:"outline-primary",value:t,checked:c===t,onChange:function(e){return i(Number(e.currentTarget.value))},children:n},t)}))})}),Object(D.jsxs)(m.a,{xs:"auto",className:"d-flex align-items-center",children:[Object(D.jsx)(F.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-1 ".concat(ie?"":"d-none")}),Object(D.jsxs)("p",{className:"m-0",children:[z[c].address,"\xa0decimal:\xa0",z[c].decimal]})]}),Object(D.jsx)("div",{className:"w-100"}),Object(D.jsx)(m.a,{xs:"12",md:"6",className:"mt-3",children:Object(D.jsxs)(P.a,{hasValidation:!0,children:[Object(D.jsx)(P.a.Text,{children:"Default amount"}),Object(D.jsx)(M.a.Control,{value:w,placeholder:"amount",onChange:function(e){return N(e.currentTarget.value,k)},isInvalid:fe}),Object(D.jsx)(M.a.Control.Feedback,{type:"invalid",children:"Please provide amount for default."})]})}),Object(D.jsx)(m.a,{xs:"12",md:"6",className:"mt-3",children:Object(D.jsxs)(P.a,{children:[Object(D.jsx)(P.a.Text,{children:"Addresses per transaction"}),Object(D.jsx)(M.a.Control,{value:L,placeholder:"addresses number",onChange:function(e){return N(e.currentTarget.value,U)}})]})}),Object(D.jsx)(m.a,{xs:"12",className:"mt-3",children:Object(D.jsxs)(P.a,{children:[Object(D.jsx)(P.a.Text,{children:"Amount unit"}),Object(D.jsx)(M.a.Control,{value:me,placeholder:"unit",onChange:function(e){return N(e.currentTarget.value,pe)}})]})}),Object(D.jsx)(m.a,{xs:"auto",className:"mt-3",children:Object(D.jsxs)(h.a,{onClick:Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee(!0),e.prev=1,e.next=4,W(t,c,n,Y,BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"));case 4:return e.prev=4,ee(!1),e.finish(4);case 7:xe();case 8:case"end":return e.stop()}}),e,null,[[1,,4,7]])}))),disabled:$,className:b!==BigInt(0)?"d-none":"",children:[Object(D.jsx)(F.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-1 ".concat($?"":"d-none")}),"Approve"]})}),Object(D.jsx)(m.a,{xs:"auto",className:"mt-3",children:Object(D.jsxs)(h.a,{variant:"success",onClick:Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return je(0),re(!0),e.prev=2,e.next=5,J(t,c,n,Q,BigInt(w),BigInt(me),je,Number(L));case 5:return e.prev=5,re(!1),e.finish(5);case 8:xe();case 9:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),disabled:!ve||ae||!Q.every((function(e){return t.utils.isAddress(e.address)}))||b===BigInt(0),children:[Object(D.jsx)(F.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-1 ".concat(ae?"":"d-none")}),"Airdrop",Object(D.jsxs)("span",{className:ae?"":"d-none",children:["\xa0",de,"/",null===Q||void 0===Q?void 0:Q.length]})]})})]}),Object(D.jsx)(f.a,{className:"mt-3",children:Object(D.jsx)(m.a,{children:Object(D.jsxs)(_.a,{children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"Address"}),Object(D.jsx)("th",{children:"Amount"})]})}),Object(D.jsx)("tbody",{children:Q?Q.map((function(e){return Object(D.jsxs)("tr",{children:[Object(D.jsxs)("td",{children:[e.address,Object(D.jsx)("span",{className:"ms-4 text-danger ".concat(t.utils.isAddress(e.address)?"d-none":""),children:"Invalid address"})]}),Object(D.jsx)("td",{className:e.amount?"":"text-secondary",children:e.amount?e.amount:"default"})]})})):[]})]})})})]})}n(563);function U(e){var t=e.selects,n=e.groupName,r=e.onChange,s=Object(a.useState)(0),c=Object(u.a)(s,2),i=c[0],l=c[1];return Object(D.jsx)(I.a,{children:t.map((function(e){var a=e.id,s=e.name;return Object(D.jsx)(E.a,{id:"".concat(n,"-").concat(a),name:"".concat(n,"s-radio"),type:"radio",variant:"outline-primary",value:a,checked:i===a,onChange:function(e){var n=Number(e.currentTarget.value);l(n);var a=t.find((function(e){return e.id===n}));B()(a),r(a.value)},children:s},a)}))})}var G=[{inputs:[{internalType:"address[]",name:"owners",type:"address[]"},{internalType:"uint256",name:"intentionQuality",type:"uint256"},{internalType:"uint256",name:"intention",type:"uint256"},{internalType:"uint256",name:"level",type:"uint256"}],name:"forgeMaintainer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"owners",type:"address[]"},{internalType:"uint256",name:"intention",type:"uint256"},{internalType:"uint256",name:"level",type:"uint256"}],name:"forgeCaptainMaintainer",outputs:[],stateMutability:"nonpayable",type:"function"}],H=[{id:0,value:0,name:"Warship"},{id:1,value:1,name:"Captain"}],Q=[{id:0,value:4e4,name:"Purple"},{id:1,value:5e4,name:"Gold"}],R=[{id:0,value:1,name:"Min"},{id:1,value:2,name:"Mean"},{id:2,value:3,name:"Max"},{id:3,value:4,name:"Random"}],X="0x3a9AF5ea13625984EFFBf0cCc1c72580e3e3b7F1";function Z(e,t,n,a,r,s,c,i){if(!t||!n)return Promise.resolve();for(var l=new e.eth.Contract(G,X),u=[],o=0,d=function(e){var d=n.slice(e,e+i);u.push(l.methods.forgeMaintainer(d,a,r,s).send({from:t}).then((function(){o+=d.length,c(o)})))},j=0;j<n.length;j+=i)d(j);return Promise.all(u).then(g)}function $(e,t,n,a,r,s,c){if(!t||!n)return Promise.resolve();for(var i=new e.eth.Contract(G,X),l=[],u=0,o=function(e){var o=n.slice(e,e+c);l.push(i.methods.forgeCaptainMaintainer(o,a,r).send({from:t}).then((function(){u+=o.length,s(u)})))},d=0;d<n.length;d+=c)o(d);return Promise.all(l).then(g)}function ee(){var e=Object(a.useContext)(v);B()(e);var t=new T.a(e),n=Object(a.useContext)(y),r=Object(a.useState)(0),s=Object(u.a)(r,2),c=s[0],i=s[1],d=Object(a.useState)(4e4),j=Object(u.a)(d,2),b=j[0],x=j[1],O=Object(a.useState)(1),g=Object(u.a)(O,2),A=g[0],w=g[1],k=Object(a.useState)(""),S=Object(u.a)(k,2),I=S[0],E=S[1],q=Object(a.useState)("50"),z=Object(u.a)(q,2),K=z[0],V=z[1],W=Object(a.useState)(null),Y=Object(u.a)(W,2),J=Y[0],L=Y[1],G=Object(a.useState)(!1),X=Object(u.a)(G,2),ee=X[0],te=X[1],ne=Object(a.useState)(0),ae=Object(u.a)(ne,2),re=ae[0],se=ae[1];return Object(D.jsxs)(p.a,{className:"mt-4",children:[Object(D.jsx)(f.a,{className:"justify-content-center",children:Object(D.jsx)("h1",{children:"NFT airdrop"})}),Object(D.jsx)(f.a,{className:"justify-content-center mt-3",children:Object(D.jsxs)(P.a,{hasValidation:!0,children:[Object(D.jsx)(M.a.Control,{as:"textarea",className:"NFT__Addresses",onChange:function(e){return L(function(e){var t=[];return e.replaceAll(","," ").replaceAll("\n"," ").replaceAll('"',"").replaceAll("'","").replaceAll("`","").replaceAll(/  */g," ").trim().split(" ").every((function(e){return!!e.startsWith("0x")&&(t.push(e),!0)}))?t:null}(e.currentTarget.value))},isInvalid:null===J}),Object(D.jsx)(M.a.Control.Feedback,{type:"invalid",children:"Please provide valid addresses."})]})}),Object(D.jsxs)(f.a,{className:"justify-content-center mt-3",children:[Object(D.jsx)(m.a,{xs:"auto",children:Object(D.jsx)(U,{selects:H,groupName:"nft",onChange:i})}),Object(D.jsx)(m.a,{xs:"auto",className:0===c?"":"d-none",children:Object(D.jsx)(U,{selects:Q,groupName:"quality",onChange:x})}),Object(D.jsx)(m.a,{xs:"auto",children:Object(D.jsx)(U,{selects:R,groupName:"intention",onChange:w})}),Object(D.jsx)("div",{className:"w-100"}),Object(D.jsx)(m.a,{xs:"12",md:"6",className:"mt-3",children:Object(D.jsxs)(P.a,{children:[Object(D.jsx)(P.a.Text,{children:"Level"}),Object(D.jsx)(M.a.Control,{value:I,placeholder:"level number",onChange:function(e){return N(e.currentTarget.value,(function(e){""===e&&E(e);var t=BigInt(e);BigInt(1)<=t&&t<=BigInt(30)&&E(e)}))}})]})}),Object(D.jsx)(m.a,{xs:"12",md:"6",className:"mt-3",children:Object(D.jsxs)(P.a,{children:[Object(D.jsx)(P.a.Text,{children:"Addresses per transaction"}),Object(D.jsx)(M.a.Control,{value:K,placeholder:"addresses number",onChange:function(e){return N(e.currentTarget.value,V)}})]})}),Object(D.jsx)(m.a,{xs:"auto",className:"mt-3",children:Object(D.jsxs)(h.a,{variant:"success",onClick:Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se(0),te(!0),e.prev=2,0!==c){e.next=8;break}return e.next=6,Z(t,n,J,b,A,Number(I),se,Number(K));case 6:e.next=10;break;case 8:return e.next=10,$(t,n,J,A,Number(I),se,Number(K));case 10:return e.prev=10,te(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,,10,13]])}))),disabled:null===J||ee||!J.every((function(e){return t.utils.isAddress(e)}))||!C(I),children:[Object(D.jsx)(F.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-1 ".concat(ee?"":"d-none")}),"Airdrop",Object(D.jsxs)("span",{className:ee?"":"d-none",children:["\xa0",re,"/",null===J||void 0===J?void 0:J.length]})]})})]}),Object(D.jsx)(f.a,{className:"mt-3",children:Object(D.jsx)(m.a,{children:Object(D.jsxs)(_.a,{children:[Object(D.jsx)("thead",{children:Object(D.jsx)("tr",{children:Object(D.jsx)("th",{children:"Address"})})}),Object(D.jsx)("tbody",{children:J?J.map((function(e){return Object(D.jsx)("tr",{children:Object(D.jsxs)("td",{children:[e,Object(D.jsx)("span",{className:"ms-4 text-danger ".concat(t.utils.isAddress(e)?"d-none":""),children:"Invalid address"})]})})})):[]})]})})})]})}function te(){return Object(D.jsxs)(A.d,{children:[Object(D.jsx)(A.b,{path:"/nft",children:Object(D.jsx)(ee,{})}),Object(D.jsx)(A.b,{path:"/home",children:Object(D.jsx)(L,{})}),Object(D.jsx)(A.b,{path:"/",children:Object(D.jsx)(A.a,{to:"/home"})})]})}var ne=4902,ae="0x42";function re(e){return se.apply(this,arguments)}function se(){return(se=Object(o.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.request({method:"wallet_switchEthereumChain",params:[{chainId:ae}]});case 3:e.next=10;break;case 5:if(e.prev=5,e.t0=e.catch(0),n=e.t0,(a=n.code)===ne){e.next=10;break}return e.abrupt("return",a);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function ce(){return(ce=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:if(!(n=e.sent)||n===ne){e.next=5;break}return e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,t.request({method:"wallet_addEthereumChain",params:[{chainId:ae,chainName:"OKExChain Mainnet",nativeCurrency:{name:"OKT",symbol:"OKT",decimals:18},rpcUrls:["https://exchainrpc.okex.org"],blockExplorerUrls:["https://www.oklink.com/okexchain"]}]});case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(5),e.abrupt("return",!1);case 13:return e.next=15,re(t);case 15:return e.abrupt("return",!e.sent);case 16:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}var ie=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),c=Object(u.a)(s,2),i=c[0],l=c[1],o=Object(a.useState)(!1),j=Object(u.a)(o,2),C=j[0],N=j[1];b()().then((function(e){r(e)}),g);var A=Object(a.useCallback)((function(){n&&l(n.selectedAddress)}),[n]);return Object(a.useEffect)((function(){return n?(n.request({method:"eth_accounts"}).then(A,g),n.on("accountsChanged",A),function(){n.removeListener("accountsChanged",A)}):g}),[n,A]),Object(a.useEffect)((function(){n&&function(e){return ce.apply(this,arguments)}(n).then(N,g)}),[n]),n?C?i?Object(D.jsx)(v.Provider,{value:n,children:Object(D.jsx)(y.Provider,{value:i,children:Object(D.jsxs)(d.a,{children:[Object(D.jsx)(O.a,{children:Object(D.jsxs)(p.a,{children:[Object(D.jsxs)(x.a,{children:[Object(D.jsx)(d.b,{to:"/home",className:"me-3 text-decoration-none",children:"Airdrop"}),Object(D.jsx)(d.b,{to:"/nft",className:"text-decoration-none",children:"NFT airdrop"})]}),Object(D.jsx)(O.a.Brand,{children:i})]})}),Object(D.jsx)(te,{})]})})}):Object(D.jsxs)(p.a,{children:[Object(D.jsx)(f.a,{className:"justify-content-center",children:Object(D.jsx)(m.a,{xs:"auto",children:"You must connect to MetaMask to use Celestial dashboard!"})}),Object(D.jsx)(f.a,{className:"justify-content-center",children:Object(D.jsx)(m.a,{xs:"auto",children:Object(D.jsx)(h.a,{onClick:function(){n&&n.request({method:"eth_requestAccounts"}).then(A,g)},children:"Connect"})})})]}):Object(D.jsx)("div",{children:"You are not on chain!"}):Object(D.jsx)("div",{children:"You must installed MetaMask to use Celestial dashboard!"})};c.a.render(Object(D.jsx)(r.a.StrictMode,{children:Object(D.jsx)(ie,{})}),document.getElementById("root"))}},[[568,1,2]]]);
//# sourceMappingURL=main.5eb1e7ca.chunk.js.map